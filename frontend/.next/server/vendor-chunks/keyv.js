"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
exports.id = "vendor-chunks/keyv";
exports.ids = ["vendor-chunks/keyv"];
exports.modules = {

/***/ "(ssr)/./node_modules/keyv/src/index.js":
/*!****************************************!*\
  !*** ./node_modules/keyv/src/index.js ***!
  \****************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

eval("\nconst EventEmitter = __webpack_require__(/*! events */ \"events\");\nconst JSONB = __webpack_require__(/*! json-buffer */ \"(ssr)/./node_modules/json-buffer/index.js\");\nconst loadStore = (options)=>{\n    const adapters = {\n        redis: \"@keyv/redis\",\n        rediss: \"@keyv/redis\",\n        mongodb: \"@keyv/mongo\",\n        mongo: \"@keyv/mongo\",\n        sqlite: \"@keyv/sqlite\",\n        postgresql: \"@keyv/postgres\",\n        postgres: \"@keyv/postgres\",\n        mysql: \"@keyv/mysql\",\n        etcd: \"@keyv/etcd\",\n        offline: \"@keyv/offline\",\n        tiered: \"@keyv/tiered\"\n    };\n    if (options.adapter || options.uri) {\n        const adapter = options.adapter || /^[^:+]*/.exec(options.uri)[0];\n        return new (__webpack_require__(\"(ssr)/./node_modules/keyv/src sync recursive\")(adapters[adapter]))(options);\n    }\n    return new Map();\n};\nconst iterableAdapters = [\n    \"sqlite\",\n    \"postgres\",\n    \"mysql\",\n    \"mongo\",\n    \"redis\",\n    \"tiered\"\n];\nclass Keyv extends EventEmitter {\n    constructor(uri, { emitErrors = true, ...options } = {}){\n        super();\n        this.opts = {\n            namespace: \"keyv\",\n            serialize: JSONB.stringify,\n            deserialize: JSONB.parse,\n            ...typeof uri === \"string\" ? {\n                uri\n            } : uri,\n            ...options\n        };\n        if (!this.opts.store) {\n            const adapterOptions = {\n                ...this.opts\n            };\n            this.opts.store = loadStore(adapterOptions);\n        }\n        if (this.opts.compression) {\n            const compression = this.opts.compression;\n            this.opts.serialize = compression.serialize.bind(compression);\n            this.opts.deserialize = compression.deserialize.bind(compression);\n        }\n        if (typeof this.opts.store.on === \"function\" && emitErrors) {\n            this.opts.store.on(\"error\", (error)=>this.emit(\"error\", error));\n        }\n        this.opts.store.namespace = this.opts.namespace;\n        const generateIterator = (iterator)=>async function*() {\n                for await (const [key, raw] of typeof iterator === \"function\" ? iterator(this.opts.store.namespace) : iterator){\n                    const data = await this.opts.deserialize(raw);\n                    if (this.opts.store.namespace && !key.includes(this.opts.store.namespace)) {\n                        continue;\n                    }\n                    if (typeof data.expires === \"number\" && Date.now() > data.expires) {\n                        this.delete(key);\n                        continue;\n                    }\n                    yield [\n                        this._getKeyUnprefix(key),\n                        data.value\n                    ];\n                }\n            };\n        // Attach iterators\n        if (typeof this.opts.store[Symbol.iterator] === \"function\" && this.opts.store instanceof Map) {\n            this.iterator = generateIterator(this.opts.store);\n        } else if (typeof this.opts.store.iterator === \"function\" && this.opts.store.opts && this._checkIterableAdaptar()) {\n            this.iterator = generateIterator(this.opts.store.iterator.bind(this.opts.store));\n        }\n    }\n    _checkIterableAdaptar() {\n        return iterableAdapters.includes(this.opts.store.opts.dialect) || iterableAdapters.findIndex((element)=>this.opts.store.opts.url.includes(element)) >= 0;\n    }\n    _getKeyPrefix(key) {\n        return `${this.opts.namespace}:${key}`;\n    }\n    _getKeyPrefixArray(keys) {\n        return keys.map((key)=>`${this.opts.namespace}:${key}`);\n    }\n    _getKeyUnprefix(key) {\n        return key.split(\":\").splice(1).join(\":\");\n    }\n    get(key, options) {\n        const { store } = this.opts;\n        const isArray = Array.isArray(key);\n        const keyPrefixed = isArray ? this._getKeyPrefixArray(key) : this._getKeyPrefix(key);\n        if (isArray && store.getMany === undefined) {\n            const promises = [];\n            for (const key of keyPrefixed){\n                promises.push(Promise.resolve().then(()=>store.get(key)).then((data)=>typeof data === \"string\" ? this.opts.deserialize(data) : this.opts.compression ? this.opts.deserialize(data) : data).then((data)=>{\n                    if (data === undefined || data === null) {\n                        return undefined;\n                    }\n                    if (typeof data.expires === \"number\" && Date.now() > data.expires) {\n                        return this.delete(key).then(()=>undefined);\n                    }\n                    return options && options.raw ? data : data.value;\n                }));\n            }\n            return Promise.allSettled(promises).then((values)=>{\n                const data = [];\n                for (const value of values){\n                    data.push(value.value);\n                }\n                return data;\n            });\n        }\n        return Promise.resolve().then(()=>isArray ? store.getMany(keyPrefixed) : store.get(keyPrefixed)).then((data)=>typeof data === \"string\" ? this.opts.deserialize(data) : this.opts.compression ? this.opts.deserialize(data) : data).then((data)=>{\n            if (data === undefined || data === null) {\n                return undefined;\n            }\n            if (isArray) {\n                return data.map((row, index)=>{\n                    if (typeof row === \"string\") {\n                        row = this.opts.deserialize(row);\n                    }\n                    if (row === undefined || row === null) {\n                        return undefined;\n                    }\n                    if (typeof row.expires === \"number\" && Date.now() > row.expires) {\n                        this.delete(key[index]).then(()=>undefined);\n                        return undefined;\n                    }\n                    return options && options.raw ? row : row.value;\n                });\n            }\n            if (typeof data.expires === \"number\" && Date.now() > data.expires) {\n                return this.delete(key).then(()=>undefined);\n            }\n            return options && options.raw ? data : data.value;\n        });\n    }\n    set(key, value, ttl) {\n        const keyPrefixed = this._getKeyPrefix(key);\n        if (typeof ttl === \"undefined\") {\n            ttl = this.opts.ttl;\n        }\n        if (ttl === 0) {\n            ttl = undefined;\n        }\n        const { store } = this.opts;\n        return Promise.resolve().then(()=>{\n            const expires = typeof ttl === \"number\" ? Date.now() + ttl : null;\n            if (typeof value === \"symbol\") {\n                this.emit(\"error\", \"symbol cannot be serialized\");\n            }\n            value = {\n                value,\n                expires\n            };\n            return this.opts.serialize(value);\n        }).then((value)=>store.set(keyPrefixed, value, ttl)).then(()=>true);\n    }\n    delete(key) {\n        const { store } = this.opts;\n        if (Array.isArray(key)) {\n            const keyPrefixed = this._getKeyPrefixArray(key);\n            if (store.deleteMany === undefined) {\n                const promises = [];\n                for (const key of keyPrefixed){\n                    promises.push(store.delete(key));\n                }\n                return Promise.allSettled(promises).then((values)=>values.every((x)=>x.value === true));\n            }\n            return Promise.resolve().then(()=>store.deleteMany(keyPrefixed));\n        }\n        const keyPrefixed = this._getKeyPrefix(key);\n        return Promise.resolve().then(()=>store.delete(keyPrefixed));\n    }\n    clear() {\n        const { store } = this.opts;\n        return Promise.resolve().then(()=>store.clear());\n    }\n    has(key) {\n        const keyPrefixed = this._getKeyPrefix(key);\n        const { store } = this.opts;\n        return Promise.resolve().then(async ()=>{\n            if (typeof store.has === \"function\") {\n                return store.has(keyPrefixed);\n            }\n            const value = await store.get(keyPrefixed);\n            return value !== undefined;\n        });\n    }\n    disconnect() {\n        const { store } = this.opts;\n        if (typeof store.disconnect === \"function\") {\n            return store.disconnect();\n        }\n    }\n}\nmodule.exports = Keyv;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUFHLElBQUksQ0FBQ04sSUFBSTtRQUN6QixPQUFPOEMsUUFBUUMsT0FBTyxHQUNwQkMsSUFBSSxDQUFDO1lBQ0wsSUFBSSxPQUFPMUMsTUFBTXFELEdBQUcsS0FBSyxZQUFZO2dCQUNwQyxPQUFPckQsTUFBTXFELEdBQUcsQ0FBQ2xCO1lBQ2xCO1lBRUEsTUFBTWpCLFFBQVEsTUFBTWxCLE1BQU1nQyxHQUFHLENBQUNHO1lBQzlCLE9BQU9qQixVQUFVbUI7UUFDbEI7SUFDRjtJQUVBaUIsYUFBYTtRQUNaLE1BQU0sRUFBQ3RELEtBQUssRUFBQyxHQUFHLElBQUksQ0FBQ04sSUFBSTtRQUN6QixJQUFJLE9BQU9NLE1BQU1zRCxVQUFVLEtBQUssWUFBWTtZQUMzQyxPQUFPdEQsTUFBTXNELFVBQVU7UUFDeEI7SUFDRDtBQUNEO0FBRUFDLE9BQU9DLE9BQU8sR0FBR2pFIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZnJvbnRlbmQvLi9ub2RlX21vZHVsZXMva2V5di9zcmMvaW5kZXguanM/OTM4NyJdLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIHN0cmljdCc7XG5cbmNvbnN0IEV2ZW50RW1pdHRlciA9IHJlcXVpcmUoJ2V2ZW50cycpO1xuY29uc3QgSlNPTkIgPSByZXF1aXJlKCdqc29uLWJ1ZmZlcicpO1xuXG5jb25zdCBsb2FkU3RvcmUgPSBvcHRpb25zID0+IHtcblx0Y29uc3QgYWRhcHRlcnMgPSB7XG5cdFx0cmVkaXM6ICdAa2V5di9yZWRpcycsXG5cdFx0cmVkaXNzOiAnQGtleXYvcmVkaXMnLFxuXHRcdG1vbmdvZGI6ICdAa2V5di9tb25nbycsXG5cdFx0bW9uZ286ICdAa2V5di9tb25nbycsXG5cdFx0c3FsaXRlOiAnQGtleXYvc3FsaXRlJyxcblx0XHRwb3N0Z3Jlc3FsOiAnQGtleXYvcG9zdGdyZXMnLFxuXHRcdHBvc3RncmVzOiAnQGtleXYvcG9zdGdyZXMnLFxuXHRcdG15c3FsOiAnQGtleXYvbXlzcWwnLFxuXHRcdGV0Y2Q6ICdAa2V5di9ldGNkJyxcblx0XHRvZmZsaW5lOiAnQGtleXYvb2ZmbGluZScsXG5cdFx0dGllcmVkOiAnQGtleXYvdGllcmVkJyxcblx0fTtcblx0aWYgKG9wdGlvbnMuYWRhcHRlciB8fCBvcHRpb25zLnVyaSkge1xuXHRcdGNvbnN0IGFkYXB0ZXIgPSBvcHRpb25zLmFkYXB0ZXIgfHwgL15bXjorXSovLmV4ZWMob3B0aW9ucy51cmkpWzBdO1xuXHRcdHJldHVybiBuZXcgKHJlcXVpcmUoYWRhcHRlcnNbYWRhcHRlcl0pKShvcHRpb25zKTtcblx0fVxuXG5cdHJldHVybiBuZXcgTWFwKCk7XG59O1xuXG5jb25zdCBpdGVyYWJsZUFkYXB0ZXJzID0gW1xuXHQnc3FsaXRlJyxcblx0J3Bvc3RncmVzJyxcblx0J215c3FsJyxcblx0J21vbmdvJyxcblx0J3JlZGlzJyxcblx0J3RpZXJlZCcsXG5dO1xuXG5jbGFzcyBLZXl2IGV4dGVuZHMgRXZlbnRFbWl0dGVyIHtcblx0Y29uc3RydWN0b3IodXJpLCB7ZW1pdEVycm9ycyA9IHRydWUsIC4uLm9wdGlvbnN9ID0ge30pIHtcblx0XHRzdXBlcigpO1xuXHRcdHRoaXMub3B0cyA9IHtcblx0XHRcdG5hbWVzcGFjZTogJ2tleXYnLFxuXHRcdFx0c2VyaWFsaXplOiBKU09OQi5zdHJpbmdpZnksXG5cdFx0XHRkZXNlcmlhbGl6ZTogSlNPTkIucGFyc2UsXG5cdFx0XHQuLi4oKHR5cGVvZiB1cmkgPT09ICdzdHJpbmcnKSA/IHt1cml9IDogdXJpKSxcblx0XHRcdC4uLm9wdGlvbnMsXG5cdFx0fTtcblxuXHRcdGlmICghdGhpcy5vcHRzLnN0b3JlKSB7XG5cdFx0XHRjb25zdCBhZGFwdGVyT3B0aW9ucyA9IHsuLi50aGlzLm9wdHN9O1xuXHRcdFx0dGhpcy5vcHRzLnN0b3JlID0gbG9hZFN0b3JlKGFkYXB0ZXJPcHRpb25zKTtcblx0XHR9XG5cblx0XHRpZiAodGhpcy5vcHRzLmNvbXByZXNzaW9uKSB7XG5cdFx0XHRjb25zdCBjb21wcmVzc2lvbiA9IHRoaXMub3B0cy5jb21wcmVzc2lvbjtcblx0XHRcdHRoaXMub3B0cy5zZXJpYWxpemUgPSBjb21wcmVzc2lvbi5zZXJpYWxpemUuYmluZChjb21wcmVzc2lvbik7XG5cdFx0XHR0aGlzLm9wdHMuZGVzZXJpYWxpemUgPSBjb21wcmVzc2lvbi5kZXNlcmlhbGl6ZS5iaW5kKGNvbXByZXNzaW9uKTtcblx0XHR9XG5cblx0XHRpZiAodHlwZW9mIHRoaXMub3B0cy5zdG9yZS5vbiA9PT0gJ2Z1bmN0aW9uJyAmJiBlbWl0RXJyb3JzKSB7XG5cdFx0XHR0aGlzLm9wdHMuc3RvcmUub24oJ2Vycm9yJywgZXJyb3IgPT4gdGhpcy5lbWl0KCdlcnJvcicsIGVycm9yKSk7XG5cdFx0fVxuXG5cdFx0dGhpcy5vcHRzLnN0b3JlLm5hbWVzcGFjZSA9IHRoaXMub3B0cy5uYW1lc3BhY2U7XG5cblx0XHRjb25zdCBnZW5lcmF0ZUl0ZXJhdG9yID0gaXRlcmF0b3IgPT4gYXN5bmMgZnVuY3Rpb24gKiAoKSB7XG5cdFx0XHRmb3IgYXdhaXQgKGNvbnN0IFtrZXksIHJhd10gb2YgdHlwZW9mIGl0ZXJhdG9yID09PSAnZnVuY3Rpb24nXG5cdFx0XHRcdD8gaXRlcmF0b3IodGhpcy5vcHRzLnN0b3JlLm5hbWVzcGFjZSlcblx0XHRcdFx0OiBpdGVyYXRvcikge1xuXHRcdFx0XHRjb25zdCBkYXRhID0gYXdhaXQgdGhpcy5vcHRzLmRlc2VyaWFsaXplKHJhdyk7XG5cdFx0XHRcdGlmICh0aGlzLm9wdHMuc3RvcmUubmFtZXNwYWNlICYmICFrZXkuaW5jbHVkZXModGhpcy5vcHRzLnN0b3JlLm5hbWVzcGFjZSkpIHtcblx0XHRcdFx0XHRjb250aW51ZTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdGlmICh0eXBlb2YgZGF0YS5leHBpcmVzID09PSAnbnVtYmVyJyAmJiBEYXRlLm5vdygpID4gZGF0YS5leHBpcmVzKSB7XG5cdFx0XHRcdFx0dGhpcy5kZWxldGUoa2V5KTtcblx0XHRcdFx0XHRjb250aW51ZTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdHlpZWxkIFt0aGlzLl9nZXRLZXlVbnByZWZpeChrZXkpLCBkYXRhLnZhbHVlXTtcblx0XHRcdH1cblx0XHR9O1xuXG5cdFx0Ly8gQXR0YWNoIGl0ZXJhdG9yc1xuXHRcdGlmICh0eXBlb2YgdGhpcy5vcHRzLnN0b3JlW1N5bWJvbC5pdGVyYXRvcl0gPT09ICdmdW5jdGlvbicgJiYgdGhpcy5vcHRzLnN0b3JlIGluc3RhbmNlb2YgTWFwKSB7XG5cdFx0XHR0aGlzLml0ZXJhdG9yID0gZ2VuZXJhdGVJdGVyYXRvcih0aGlzLm9wdHMuc3RvcmUpO1xuXHRcdH0gZWxzZSBpZiAodHlwZW9mIHRoaXMub3B0cy5zdG9yZS5pdGVyYXRvciA9PT0gJ2Z1bmN0aW9uJyAmJiB0aGlzLm9wdHMuc3RvcmUub3B0c1xuXHRcdFx0JiYgdGhpcy5fY2hlY2tJdGVyYWJsZUFkYXB0YXIoKSkge1xuXHRcdFx0dGhpcy5pdGVyYXRvciA9IGdlbmVyYXRlSXRlcmF0b3IodGhpcy5vcHRzLnN0b3JlLml0ZXJhdG9yLmJpbmQodGhpcy5vcHRzLnN0b3JlKSk7XG5cdFx0fVxuXHR9XG5cblx0X2NoZWNrSXRlcmFibGVBZGFwdGFyKCkge1xuXHRcdHJldHVybiBpdGVyYWJsZUFkYXB0ZXJzLmluY2x1ZGVzKHRoaXMub3B0cy5zdG9yZS5vcHRzLmRpYWxlY3QpXG5cdFx0XHR8fCBpdGVyYWJsZUFkYXB0ZXJzLmZpbmRJbmRleChlbGVtZW50ID0+IHRoaXMub3B0cy5zdG9yZS5vcHRzLnVybC5pbmNsdWRlcyhlbGVtZW50KSkgPj0gMDtcblx0fVxuXG5cdF9nZXRLZXlQcmVmaXgoa2V5KSB7XG5cdFx0cmV0dXJuIGAke3RoaXMub3B0cy5uYW1lc3BhY2V9OiR7a2V5fWA7XG5cdH1cblxuXHRfZ2V0S2V5UHJlZml4QXJyYXkoa2V5cykge1xuXHRcdHJldHVybiBrZXlzLm1hcChrZXkgPT4gYCR7dGhpcy5vcHRzLm5hbWVzcGFjZX06JHtrZXl9YCk7XG5cdH1cblxuXHRfZ2V0S2V5VW5wcmVmaXgoa2V5KSB7XG5cdFx0cmV0dXJuIGtleVxuXHRcdFx0LnNwbGl0KCc6Jylcblx0XHRcdC5zcGxpY2UoMSlcblx0XHRcdC5qb2luKCc6Jyk7XG5cdH1cblxuXHRnZXQoa2V5LCBvcHRpb25zKSB7XG5cdFx0Y29uc3Qge3N0b3JlfSA9IHRoaXMub3B0cztcblx0XHRjb25zdCBpc0FycmF5ID0gQXJyYXkuaXNBcnJheShrZXkpO1xuXHRcdGNvbnN0IGtleVByZWZpeGVkID0gaXNBcnJheSA/IHRoaXMuX2dldEtleVByZWZpeEFycmF5KGtleSkgOiB0aGlzLl9nZXRLZXlQcmVmaXgoa2V5KTtcblx0XHRpZiAoaXNBcnJheSAmJiBzdG9yZS5nZXRNYW55ID09PSB1bmRlZmluZWQpIHtcblx0XHRcdGNvbnN0IHByb21pc2VzID0gW107XG5cdFx0XHRmb3IgKGNvbnN0IGtleSBvZiBrZXlQcmVmaXhlZCkge1xuXHRcdFx0XHRwcm9taXNlcy5wdXNoKFByb21pc2UucmVzb2x2ZSgpXG5cdFx0XHRcdFx0LnRoZW4oKCkgPT4gc3RvcmUuZ2V0KGtleSkpXG5cdFx0XHRcdFx0LnRoZW4oZGF0YSA9PiAodHlwZW9mIGRhdGEgPT09ICdzdHJpbmcnKSA/IHRoaXMub3B0cy5kZXNlcmlhbGl6ZShkYXRhKSA6ICh0aGlzLm9wdHMuY29tcHJlc3Npb24gPyB0aGlzLm9wdHMuZGVzZXJpYWxpemUoZGF0YSkgOiBkYXRhKSlcblx0XHRcdFx0XHQudGhlbihkYXRhID0+IHtcblx0XHRcdFx0XHRcdGlmIChkYXRhID09PSB1bmRlZmluZWQgfHwgZGF0YSA9PT0gbnVsbCkge1xuXHRcdFx0XHRcdFx0XHRyZXR1cm4gdW5kZWZpbmVkO1xuXHRcdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0XHRpZiAodHlwZW9mIGRhdGEuZXhwaXJlcyA9PT0gJ251bWJlcicgJiYgRGF0ZS5ub3coKSA+IGRhdGEuZXhwaXJlcykge1xuXHRcdFx0XHRcdFx0XHRyZXR1cm4gdGhpcy5kZWxldGUoa2V5KS50aGVuKCgpID0+IHVuZGVmaW5lZCk7XG5cdFx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRcdHJldHVybiAob3B0aW9ucyAmJiBvcHRpb25zLnJhdykgPyBkYXRhIDogZGF0YS52YWx1ZTtcblx0XHRcdFx0XHR9KSxcblx0XHRcdFx0KTtcblx0XHRcdH1cblxuXHRcdFx0cmV0dXJuIFByb21pc2UuYWxsU2V0dGxlZChwcm9taXNlcylcblx0XHRcdFx0LnRoZW4odmFsdWVzID0+IHtcblx0XHRcdFx0XHRjb25zdCBkYXRhID0gW107XG5cdFx0XHRcdFx0Zm9yIChjb25zdCB2YWx1ZSBvZiB2YWx1ZXMpIHtcblx0XHRcdFx0XHRcdGRhdGEucHVzaCh2YWx1ZS52YWx1ZSk7XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0cmV0dXJuIGRhdGE7XG5cdFx0XHRcdH0pO1xuXHRcdH1cblxuXHRcdHJldHVybiBQcm9taXNlLnJlc29sdmUoKVxuXHRcdFx0LnRoZW4oKCkgPT4gaXNBcnJheSA/IHN0b3JlLmdldE1hbnkoa2V5UHJlZml4ZWQpIDogc3RvcmUuZ2V0KGtleVByZWZpeGVkKSlcblx0XHRcdC50aGVuKGRhdGEgPT4gKHR5cGVvZiBkYXRhID09PSAnc3RyaW5nJykgPyB0aGlzLm9wdHMuZGVzZXJpYWxpemUoZGF0YSkgOiAodGhpcy5vcHRzLmNvbXByZXNzaW9uID8gdGhpcy5vcHRzLmRlc2VyaWFsaXplKGRhdGEpIDogZGF0YSkpXG5cdFx0XHQudGhlbihkYXRhID0+IHtcblx0XHRcdFx0aWYgKGRhdGEgPT09IHVuZGVmaW5lZCB8fCBkYXRhID09PSBudWxsKSB7XG5cdFx0XHRcdFx0cmV0dXJuIHVuZGVmaW5lZDtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdGlmIChpc0FycmF5KSB7XG5cdFx0XHRcdFx0cmV0dXJuIGRhdGEubWFwKChyb3csIGluZGV4KSA9PiB7XG5cdFx0XHRcdFx0XHRpZiAoKHR5cGVvZiByb3cgPT09ICdzdHJpbmcnKSkge1xuXHRcdFx0XHRcdFx0XHRyb3cgPSB0aGlzLm9wdHMuZGVzZXJpYWxpemUocm93KTtcblx0XHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdFx0aWYgKHJvdyA9PT0gdW5kZWZpbmVkIHx8IHJvdyA9PT0gbnVsbCkge1xuXHRcdFx0XHRcdFx0XHRyZXR1cm4gdW5kZWZpbmVkO1xuXHRcdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0XHRpZiAodHlwZW9mIHJvdy5leHBpcmVzID09PSAnbnVtYmVyJyAmJiBEYXRlLm5vdygpID4gcm93LmV4cGlyZXMpIHtcblx0XHRcdFx0XHRcdFx0dGhpcy5kZWxldGUoa2V5W2luZGV4XSkudGhlbigoKSA9PiB1bmRlZmluZWQpO1xuXHRcdFx0XHRcdFx0XHRyZXR1cm4gdW5kZWZpbmVkO1xuXHRcdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0XHRyZXR1cm4gKG9wdGlvbnMgJiYgb3B0aW9ucy5yYXcpID8gcm93IDogcm93LnZhbHVlO1xuXHRcdFx0XHRcdH0pO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0aWYgKHR5cGVvZiBkYXRhLmV4cGlyZXMgPT09ICdudW1iZXInICYmIERhdGUubm93KCkgPiBkYXRhLmV4cGlyZXMpIHtcblx0XHRcdFx0XHRyZXR1cm4gdGhpcy5kZWxldGUoa2V5KS50aGVuKCgpID0+IHVuZGVmaW5lZCk7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRyZXR1cm4gKG9wdGlvbnMgJiYgb3B0aW9ucy5yYXcpID8gZGF0YSA6IGRhdGEudmFsdWU7XG5cdFx0XHR9KTtcblx0fVxuXG5cdHNldChrZXksIHZhbHVlLCB0dGwpIHtcblx0XHRjb25zdCBrZXlQcmVmaXhlZCA9IHRoaXMuX2dldEtleVByZWZpeChrZXkpO1xuXHRcdGlmICh0eXBlb2YgdHRsID09PSAndW5kZWZpbmVkJykge1xuXHRcdFx0dHRsID0gdGhpcy5vcHRzLnR0bDtcblx0XHR9XG5cblx0XHRpZiAodHRsID09PSAwKSB7XG5cdFx0XHR0dGwgPSB1bmRlZmluZWQ7XG5cdFx0fVxuXG5cdFx0Y29uc3Qge3N0b3JlfSA9IHRoaXMub3B0cztcblxuXHRcdHJldHVybiBQcm9taXNlLnJlc29sdmUoKVxuXHRcdFx0LnRoZW4oKCkgPT4ge1xuXHRcdFx0XHRjb25zdCBleHBpcmVzID0gKHR5cGVvZiB0dGwgPT09ICdudW1iZXInKSA/IChEYXRlLm5vdygpICsgdHRsKSA6IG51bGw7XG5cdFx0XHRcdGlmICh0eXBlb2YgdmFsdWUgPT09ICdzeW1ib2wnKSB7XG5cdFx0XHRcdFx0dGhpcy5lbWl0KCdlcnJvcicsICdzeW1ib2wgY2Fubm90IGJlIHNlcmlhbGl6ZWQnKTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdHZhbHVlID0ge3ZhbHVlLCBleHBpcmVzfTtcblx0XHRcdFx0cmV0dXJuIHRoaXMub3B0cy5zZXJpYWxpemUodmFsdWUpO1xuXHRcdFx0fSlcblx0XHRcdC50aGVuKHZhbHVlID0+IHN0b3JlLnNldChrZXlQcmVmaXhlZCwgdmFsdWUsIHR0bCkpXG5cdFx0XHQudGhlbigoKSA9PiB0cnVlKTtcblx0fVxuXG5cdGRlbGV0ZShrZXkpIHtcblx0XHRjb25zdCB7c3RvcmV9ID0gdGhpcy5vcHRzO1xuXHRcdGlmIChBcnJheS5pc0FycmF5KGtleSkpIHtcblx0XHRcdGNvbnN0IGtleVByZWZpeGVkID0gdGhpcy5fZ2V0S2V5UHJlZml4QXJyYXkoa2V5KTtcblx0XHRcdGlmIChzdG9yZS5kZWxldGVNYW55ID09PSB1bmRlZmluZWQpIHtcblx0XHRcdFx0Y29uc3QgcHJvbWlzZXMgPSBbXTtcblx0XHRcdFx0Zm9yIChjb25zdCBrZXkgb2Yga2V5UHJlZml4ZWQpIHtcblx0XHRcdFx0XHRwcm9taXNlcy5wdXNoKHN0b3JlLmRlbGV0ZShrZXkpKTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdHJldHVybiBQcm9taXNlLmFsbFNldHRsZWQocHJvbWlzZXMpXG5cdFx0XHRcdFx0LnRoZW4odmFsdWVzID0+IHZhbHVlcy5ldmVyeSh4ID0+IHgudmFsdWUgPT09IHRydWUpKTtcblx0XHRcdH1cblxuXHRcdFx0cmV0dXJuIFByb21pc2UucmVzb2x2ZSgpXG5cdFx0XHRcdC50aGVuKCgpID0+IHN0b3JlLmRlbGV0ZU1hbnkoa2V5UHJlZml4ZWQpKTtcblx0XHR9XG5cblx0XHRjb25zdCBrZXlQcmVmaXhlZCA9IHRoaXMuX2dldEtleVByZWZpeChrZXkpO1xuXHRcdHJldHVybiBQcm9taXNlLnJlc29sdmUoKVxuXHRcdFx0LnRoZW4oKCkgPT4gc3RvcmUuZGVsZXRlKGtleVByZWZpeGVkKSk7XG5cdH1cblxuXHRjbGVhcigpIHtcblx0XHRjb25zdCB7c3RvcmV9ID0gdGhpcy5vcHRzO1xuXHRcdHJldHVybiBQcm9taXNlLnJlc29sdmUoKVxuXHRcdFx0LnRoZW4oKCkgPT4gc3RvcmUuY2xlYXIoKSk7XG5cdH1cblxuXHRoYXMoa2V5KSB7XG5cdFx0Y29uc3Qga2V5UHJlZml4ZWQgPSB0aGlzLl9nZXRLZXlQcmVmaXgoa2V5KTtcblx0XHRjb25zdCB7c3RvcmV9ID0gdGhpcy5vcHRzO1xuXHRcdHJldHVybiBQcm9taXNlLnJlc29sdmUoKVxuXHRcdFx0LnRoZW4oYXN5bmMgKCkgPT4ge1xuXHRcdFx0XHRpZiAodHlwZW9mIHN0b3JlLmhhcyA9PT0gJ2Z1bmN0aW9uJykge1xuXHRcdFx0XHRcdHJldHVybiBzdG9yZS5oYXMoa2V5UHJlZml4ZWQpO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0Y29uc3QgdmFsdWUgPSBhd2FpdCBzdG9yZS5nZXQoa2V5UHJlZml4ZWQpO1xuXHRcdFx0XHRyZXR1cm4gdmFsdWUgIT09IHVuZGVmaW5lZDtcblx0XHRcdH0pO1xuXHR9XG5cblx0ZGlzY29ubmVjdCgpIHtcblx0XHRjb25zdCB7c3RvcmV9ID0gdGhpcy5vcHRzO1xuXHRcdGlmICh0eXBlb2Ygc3RvcmUuZGlzY29ubmVjdCA9PT0gJ2Z1bmN0aW9uJykge1xuXHRcdFx0cmV0dXJuIHN0b3JlLmRpc2Nvbm5lY3QoKTtcblx0XHR9XG5cdH1cbn1cblxubW9kdWxlLmV4cG9ydHMgPSBLZXl2O1xuIl0sIm5hbWVzIjpbIkV2ZW50RW1pdHRlciIsInJlcXVpcmUiLCJKU09OQiIsImxvYWRTdG9yZSIsIm9wdGlvbnMiLCJhZGFwdGVycyIsInJlZGlzIiwicmVkaXNzIiwibW9uZ29kYiIsIm1vbmdvIiwic3FsaXRlIiwicG9zdGdyZXNxbCIsInBvc3RncmVzIiwibXlzcWwiLCJldGNkIiwib2ZmbGluZSIsInRpZXJlZCIsImFkYXB0ZXIiLCJ1cmkiLCJleGVjIiwiTWFwIiwiaXRlcmFibGVBZGFwdGVycyIsIktleXYiLCJjb25zdHJ1Y3RvciIsImVtaXRFcnJvcnMiLCJvcHRzIiwibmFtZXNwYWNlIiwic2VyaWFsaXplIiwic3RyaW5naWZ5IiwiZGVzZXJpYWxpemUiLCJwYXJzZSIsInN0b3JlIiwiYWRhcHRlck9wdGlvbnMiLCJjb21wcmVzc2lvbiIsImJpbmQiLCJvbiIsImVycm9yIiwiZW1pdCIsImdlbmVyYXRlSXRlcmF0b3IiLCJpdGVyYXRvciIsImtleSIsInJhdyIsImRhdGEiLCJpbmNsdWRlcyIsImV4cGlyZXMiLCJEYXRlIiwibm93IiwiZGVsZXRlIiwiX2dldEtleVVucHJlZml4IiwidmFsdWUiLCJTeW1ib2wiLCJfY2hlY2tJdGVyYWJsZUFkYXB0YXIiLCJkaWFsZWN0IiwiZmluZEluZGV4IiwiZWxlbWVudCIsInVybCIsIl9nZXRLZXlQcmVmaXgiLCJfZ2V0S2V5UHJlZml4QXJyYXkiLCJrZXlzIiwibWFwIiwic3BsaXQiLCJzcGxpY2UiLCJqb2luIiwiZ2V0IiwiaXNBcnJheSIsIkFycmF5Iiwia2V5UHJlZml4ZWQiLCJnZXRNYW55IiwidW5kZWZpbmVkIiwicHJvbWlzZXMiLCJwdXNoIiwiUHJvbWlzZSIsInJlc29sdmUiLCJ0aGVuIiwiYWxsU2V0dGxlZCIsInZhbHVlcyIsInJvdyIsImluZGV4Iiwic2V0IiwidHRsIiwiZGVsZXRlTWFueSIsImV2ZXJ5IiwieCIsImNsZWFyIiwiaGFzIiwiZGlzY29ubmVjdCIsIm1vZHVsZSIsImV4cG9ydHMiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/keyv/src/index.js\n");

/***/ })

};
;